- form_for [:admin, @person] do |f|
  %div{:style => "width: 500px; float: left; margin: 0 40px 0 0;"}
    %h2= large_icon('User') + ' ' + "Basic Info"
    %dl
      - form_attributes.each do |att|
        %dt.form-label= f.label att
        %dd.form-option= f.text_field att, :size => "60"
    %h2= large_icon('User') + ' ' + "Additional Contact Info"
    %dl
      - additional_form_attributes.each do |att|
        %dt.form-label= f.label att
        %dd.form-option= f.text_field att, :size => "60"
      %dt.form-label= f.label :city
      %dd.form-option= f.text_field :city, :size => "60"  
      %dt.form-label= f.label :state
      %dd.form-option= select :person, :state, [['Select a State', 'None'], ['Alabama', 'AL'], ['Alaska', 'AK'], ['Arizona', 'AZ'], ['Arkansas', 'AR'], ['California', 'CA'], ['Colorado', 'CO'], ['Connecticut', 'CT'], ['Delaware', 'DE'], ['District of Columbia', 'DC'], ['Florida', 'FL'], ['Georgia', 'GA'], ['Hawaii', 'HI'], ['Idaho', 'ID'], ['Illinois', 'IL'], ['Indiana', 'IN'], ['Iowa', 'IA'], ['Kansas', 'KS'], ['Kentucky', 'KY'], ['Louisiana', 'LA'], ['Maine', 'ME'], ['Maryland', 'MD'], ['Massachusetts', 'MA'], ['Michigan', 'MI'], ['Minnesota', 'MN'], ['Mississippi', 'MS'], ['Missouri', 'MO'], ['Montana', 'MT'], ['Nebraska', 'NE'], ['Nevada', 'NV'], ['New Hampshire', 'NH'], ['New Jersey', 'NJ'], ['New Mexico', 'NM'], ['New York', 'NY'], ['North Carolina', 'NC'], ['North Dakota', 'ND'], ['Ohio', 'OH'], ['Oklahoma', 'OK'], ['Oregon', 'OR'], ['Pennsylvania', 'PA'], ['Rhode Island', 'RI'], ['South Carolina', 'SC'], ['South Dakota', 'SD'], ['Tennessee', 'TN'], ['Texas', 'TX'], ['Utah', 'UT'], ['Vermont', 'VT'], ['Virginia', 'VA'], ['Washington', 'WA'], ['Wisconsin', 'WI'], ['West Virginia', 'WV'], ['Wyoming', 'WY']]
      %dt.form-label= f.label :zip
      %dd.form-option= f.text_field :zip
    %h2 Groups
    -for group in @groups
      .person_group_form
        = check_box_tag "person[person_group_ids][]", group.id, @person.person_groups.include?(group), :id => "group_checkbox_#{group.id}"
        = label_tag "group_checkbox_#{group.id}", group.title
        %div{:class => "small gray"}= group.description
      = cycle(nil,nil,clear)
  %div{:style => "float: left; border-left: 1px solid #ccc; padding-left: 40px; width: 260px"}
    %h2= large_icon('Lock Open') + ' ' + "Login Settings"
    %dl
      %dt.form-label= label 'user', 'login'
      %dd.form-option= text_field 'user', 'login'
      %dt.form-label= label 'user', 'password'
      %dd.form-option= password_field 'user', 'password'
      %dt.form-label= label 'user', 'password_confirmation'
      %dd.form-option= password_field 'user', 'password_confirmation'
    - if current_user.has_role(["Admin"])
      %h2 Role Groups
      -for group in @role_groups
        .person_group_form
          - unless @person.user == current_user and group.title == "Admin"
            = check_box_tag "person[person_group_ids][]", group.id, @person.person_groups.include?(group), :id => "group_checkbox_#{group.id}"
          - else
            = check_box_tag "person[person_group_ids][]", group.id, @person.person_groups.include?(group), :id => "group_checkbox_#{group.id}", :readonly => true
          = label_tag "group_checkbox_#{group.id}", group.title
          %div{:class => "small gray"}= group.description
        = cycle(nil,nil,clear)

  = clear
  %br
  %br
  %br
  =f.submit "Save person"

