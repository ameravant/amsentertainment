- unless testimonial_id == "random"
  - testimonial = Testimonial.find(testimonial_id)
  %div{:class => "testimonial inline"}
    %blockquote
      = testimonial.quote
    %cite
      - owner = eval(testimonial.quotable_type).find(testimonial.quotable_id)
      = testimonial.body.blank? ? testimonial.citation : link_to(testimonial.citation, [owner, testimonial])
- else
  - if @article
    - owner = @article
  - elsif @event
    - owner = @event
  - elsif @link
    - owner = @link
  - elsif @product
    - owner = @product
  - else
    - owner = @page
  - unless owner.testimonials.empty?
    - testimonial = owner.testimonials.sort_by(&:rand).first
    %div{:class => "testimonial inline"}
      %blockquote
        = testimonial.quote
      %cite
        - owner = eval(testimonial.quotable_type).find(testimonial.quotable_id)
        = testimonial.body.blank? ? testimonial.citation : link_to(testimonial.citation, [owner, testimonial])